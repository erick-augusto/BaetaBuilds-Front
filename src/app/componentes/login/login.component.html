<section class="container builds ff-inter">
  <form [formGroup]="formulario" class="login-form" autocomplete="off">
    
    <div class="login-card">
      <div class="login-image">
        <img src="assets/images/logo.png" alt="Ilustração de login">
      </div>

      <p class="login-intro">Acesse sua conta para gerenciar territórios e envios.</p>

      <div class="form-row">
        <label for="usuario">Usuário</label>
        <input id="usuario" name="usuario" type="text" class="input" formControlName="login" placeholder="seu.usuario" />
        <div class="mensagem__erro" *ngIf="formulario.get('login')?.touched">
          <small *ngIf="formulario.get('login')?.hasError('required')">Usuário é obrigatório.</small>

          <small *ngIf="!formulario.get('login')?.hasError('required') && formulario.get('login')?.hasError('minlength')">
            Mínimo de 3 caracteres.
          </small>
        </div>
      </div>

      <div class="form-row">
        <label for="senha">Senha</label>
        <input id="senha" name="senha" type="password" class="input" formControlName="senha" placeholder="••••••••" />
        <div class="mensagem__erro" *ngIf="formulario.get('senha')?.touched">
          <small *ngIf="formulario.get('senha')?.hasError('required')">Senha é obrigatória.</small>

          <small *ngIf="!formulario.get('senha')?.hasError('required') && formulario.get('senha')?.hasError('minlength')">
            Mínimo de 3 caracteres.
          </small>
        </div>
      </div>

      <div class="form-actions">
        <button type="button" (click)="login()" class="botao btn-primary">Entrar</button>
        <button type="button" (click)="cancelar()" class="botao btn-ghost">Cancelar</button>
      </div>

      <div class="login-help">
        <a class="link" href="#" (click)="openResetModal(); $event.preventDefault()">Esqueci minha senha</a>
      </div>
    </div>
  </form>
</section>

<!-- modal de redefinição -->
<div class="modal-backdrop ff-inter" *ngIf="showResetModal" (click)="closeResetModal()">
  <div class="modal" role="dialog" aria-modal="true" (click)="$event.stopPropagation()">
    <header class="modal-header">
      <h3>Redefinir senha</h3>
    </header>
    <hr class="modal-divider">
    <div class="modal-body">
      <form>
        <label>Informações de recuperação de senha</label>
        <br/>
        <p>A senha não pode ser recuperada de forma automática.</p>
        <p>Para recuperar sua senha, entre em contato com o administrador do sistema.</p>
        <div class="modal-actions">
          <button type="button" class="botao btn-primary" (click)="closeResetModal()">OK</button>
        </div>
      </form>
    </div>

  </div>
</div>