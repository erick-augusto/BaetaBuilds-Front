<section class="container builds ff-inter">
    <form [formGroup]="formulario">
        <header class="header">
            <h2>Enviar Apartamentos Aleatórios</h2>
        </header>

        <div class="form-grid">
            <label for="nome">Nome do Responsável:</label>
            <div>
                <input type="text" id="nome" formControlName="nome" class="input">
                <div class="mensagem__erro"
                    *ngIf="formulario.get('nome')?.invalid && formulario.get('nome')?.touched">
                Nome é obrigatório.
                </div>
            </div>

            <label for="totalAptos">Total de Apartamentos:</label>
            <div>
                <input type="text" id="totalAptos" formControlName="totalAptos" class="input">
                <div class="mensagem__erro"
                    *ngIf="formulario.get('totalAptos')?.invalid && formulario.get('totalAptos')?.touched">
                Total de Apartamentos é obrigatório.
                </div>
            </div>
        </div>

        <div id="aptosRetornados" class="aptos-retornados" *ngIf="filtrado">
            <br/>
            <label style="text-align: center">Apartamentos selecionados:</label>
            <br/>
            <br/>
            <div *ngIf="saida.length > 0; else nenhumAptoRetornado">
                <ul class="lista-apto">
                    <li *ngFor="let apto of saida">
                        <span>Endereço: {{ apto.enderecoTorre }}</span>
                        <span>CEP: {{ apto.cep }}</span>
                        <span>Apartamento {{ apto.numApto }}</span>
                    </li>
                </ul>
            </div>
        </div>
        <ng-template #nenhumAptoRetornado>
            <div class="ff-inter sem-info">
                <p>Nenhum apartamento foi retornado!</p>
          </div>
        </ng-template>

        <div class="acoes">
            <button [disabled]="!formulario.valid" (click)="enviarAptosAleatorios()" [ngClass]="habilitarBotao()" *ngIf="!filtrado">Buscar Apartamentos</button>
            <button (click)="novoEnvio()" class="botao" *ngIf="filtrado">Novo Envio</button>
        </div>
    </form>
</section>